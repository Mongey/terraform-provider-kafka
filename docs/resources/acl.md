---
page_title: "kafka_acl Resource - terraform-provider-kafka"
subcategory: ""
description: |-
  A resource for managing Kafka Access Control Lists (ACLs) to control permissions for users and applications.
---

# kafka_acl (Resource)

The `kafka_acl` resource manages Apache Kafka Access Control Lists (ACLs). ACLs control access to Kafka resources like topics, consumer groups, and clusters by defining which principals (users or services) can perform specific operations on these resources.

## Example Usage

### Allow Producer Access to Topic

```terraform
resource "kafka_acl" "producer" {
  resource_name       = "orders"
  resource_type       = "Topic"
  acl_principal       = "User:producer-service"
  acl_host            = "*"
  acl_operation       = "Write"
  acl_permission_type = "Allow"
}

# Also grant describe permission for producers
resource "kafka_acl" "producer_describe" {
  resource_name       = "orders"
  resource_type       = "Topic"
  acl_principal       = "User:producer-service"
  acl_host            = "*"
  acl_operation       = "Describe"
  acl_permission_type = "Allow"
}
```

### Allow Consumer Group Access

```terraform
# Allow read access to topic
resource "kafka_acl" "consumer_read" {
  resource_name       = "orders"
  resource_type       = "Topic"
  acl_principal       = "User:consumer-service"
  acl_host            = "*"
  acl_operation       = "Read"
  acl_permission_type = "Allow"
}

# Allow access to consumer group
resource "kafka_acl" "consumer_group" {
  resource_name       = "order-processors"
  resource_type       = "Group"
  acl_principal       = "User:consumer-service"
  acl_host            = "*"
  acl_operation       = "Read"
  acl_permission_type = "Allow"
}
```

### Prefix-Based Access Control

```terraform
# Grant access to all topics with prefix "logs-"
resource "kafka_acl" "logs_access" {
  resource_name                = "logs-"
  resource_type                = "Topic"
  resource_pattern_type_filter = "Prefixed"
  acl_principal                = "User:log-aggregator"
  acl_host                     = "*"
  acl_operation                = "Read"
  acl_permission_type          = "Allow"
}
```

### Admin User with Full Access

```terraform
# Grant cluster-level admin access
resource "kafka_acl" "admin_cluster" {
  resource_name       = "kafka-cluster"
  resource_type       = "Cluster"
  acl_principal       = "User:admin"
  acl_host            = "*"
  acl_operation       = "All"
  acl_permission_type = "Allow"
}
```

## Import

Kafka ACLs can be imported using a pipe-delimited string containing all ACL properties:

```shell
# Format: ${acl_principal}|${acl_host}|${acl_operation}|${acl_permission_type}|${resource_type}|${resource_name}|${resource_pattern_type_filter}
terraform import kafka_acl.example 'User:producer|*|Write|Allow|Topic|orders|Literal'
```

-> **Note:** Use quotes around the import string to prevent shell expansion of the `*` character.

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `acl_host` (String)
- `acl_operation` (String)
- `acl_permission_type` (String)
- `acl_principal` (String)
- `resource_name` (String) The name of the resource
- `resource_type` (String)

### Optional

- `resource_pattern_type_filter` (String)

### Read-Only

- `id` (String) The ID of this resource.

## Argument Reference

### acl_principal
Principal that is being allowed or denied access. Format depends on your authentication mechanism:
- For SASL/PLAIN, SASL/SCRAM: `User:username`
- For mTLS: `User:CN=certificate-common-name`
- For Kerberos: `User:principal@REALM`

### acl_host
Host from which the principal will have access. Use `*` to allow access from any host.

### acl_operation
The operation being controlled. Valid values:
- `Unknown`
- `Any`
- `All`
- `Read`
- `Write`
- `Create`
- `Delete`
- `Alter`
- `Describe`
- `ClusterAction`
- `DescribeConfigs`
- `AlterConfigs`
- `IdempotentWrite`

### acl_permission_type
Whether to allow or deny the operation. Valid values:
- `Unknown`
- `Any`
- `Allow`
- `Deny`

### resource_name
The name of the resource. Can be:
- Specific resource name (e.g., "my-topic")
- Wildcard `*` for all resources
- Prefix when used with `resource_pattern_type_filter = "Prefixed"`

### resource_type
The type of resource being secured. Valid values:
- `Unknown`
- `Any`
- `Topic`
- `Group`
- `Cluster`
- `TransactionalID`
- `DelegationToken`

### resource_pattern_type_filter
How to match the resource name. Valid values:
- `Literal` (default) - Exact match
- `Prefixed` - Match resources with the given prefix
- `Any` - Match any resource
- `Match` - Match resources using pattern

## Common ACL Patterns

### Producer ACLs
Producers typically need:
- `Write` and `Describe` on topics
- `Write` on `TransactionalID` (for transactional producers)
- `IdempotentWrite` on `Cluster` (for idempotent producers)

### Consumer ACLs
Consumers typically need:
- `Read` on topics
- `Read` on consumer groups
- `Describe` on topics (optional, for metadata)

### Admin ACLs
Administrators typically need:
- `All` on `Cluster`
- Or specific operations like `Alter`, `AlterConfigs`, `Create`, `Delete`

~> **Warning:** Be cautious with `Deny` ACLs as they take precedence over `Allow` ACLs. A deny rule will block access even if an allow rule exists.