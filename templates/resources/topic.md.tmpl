---
page_title: "{{.Name}} {{.Type}} - {{.ProviderName}}"
subcategory: ""
description: |-
  A resource for managing Kafka topics. Supports creating topics with custom configurations and increasing partition counts without recreation.
---

# {{.Name}} ({{.Type}})

The `kafka_topic` resource manages Apache Kafka topics, including their partition count, replication factor, and various configuration parameters. This resource supports non-destructive partition count increases.

## Example Usage

### Basic Topic

{{tffile "examples/resources/kafka_topic/resource.tf"}}

### Topic with Common Configurations

{{tffile "examples/resources/kafka_topic/logs.tf"}}

### Compacted Topic for Event Sourcing

{{tffile "examples/resources/kafka_topic/compacted.tf"}}

### High-Throughput Topic

{{tffile "examples/resources/kafka_topic/high-throughput.tf"}}

## Import

Existing Kafka topics can be imported using the topic name:

{{codefile "shell" "examples/resources/kafka_topic/import.sh"}}

{{ .SchemaMarkdown | trimspace }}

## Configuration Parameters

The `config` map supports all Kafka topic-level configurations. Common configurations include:

### Retention Settings
- `retention.ms` - How long to retain messages (in milliseconds). Default: 604800000 (7 days)
- `retention.bytes` - Maximum size of the log before deleting old segments. Default: -1 (no limit)
- `segment.ms` - Time after which a log segment should be rotated. Default: 604800000 (7 days)
- `segment.bytes` - Maximum size of a single log segment file. Default: 1073741824 (1GB)

### Cleanup and Compaction
- `cleanup.policy` - Either "delete" or "compact" or both "compact,delete". Default: "delete"
- `min.compaction.lag.ms` - Minimum time a message will remain uncompacted. Default: 0
- `delete.retention.ms` - How long to retain delete tombstone markers for compacted topics. Default: 86400000 (1 day)

### Compression
- `compression.type` - Compression codec: "uncompressed", "zstd", "lz4", "snappy", "gzip", "producer". Default: "producer"

### Replication and Durability
- `min.insync.replicas` - Minimum number of replicas that must acknowledge a write. Default: 1
- `unclean.leader.election.enable` - Whether to allow replicas not in ISR to be elected leader. Default: false

### Message Size
- `max.message.bytes` - Maximum size of a message. Default: 1048588 (~1MB)
- `message.timestamp.type` - Whether to use CreateTime or LogAppendTime. Default: "CreateTime"

For a complete list of configurations, refer to the [Kafka documentation](https://kafka.apache.org/documentation/#topicconfigs).

-> **Note:** Increasing the partition count is supported without recreating the topic. However, decreasing partitions requires topic recreation.